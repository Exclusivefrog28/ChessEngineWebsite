
var Engine = (() => {
  var _scriptDir = import.meta.url;
  
  return (
function(moduleArg = {}) {

function f(){l.buffer!=n.buffer&&p();return n}function u(){l.buffer!=n.buffer&&p();return aa}function w(){l.buffer!=n.buffer&&p();return ba}function x(){l.buffer!=n.buffer&&p();return ca}function da(){l.buffer!=n.buffer&&p();return ea}var y=moduleArg,fa,ha;y.ready=new Promise((a,b)=>{fa=a;ha=b});
var ia=Object.assign({},y),ja="./this.program",ka=(a,b)=>{throw b;},la="object"==typeof window,A="function"==typeof importScripts,ma="object"==typeof process&&"object"==typeof process.rb&&"string"==typeof process.rb.node,D=y.ENVIRONMENT_IS_PTHREAD||!1,E="";function na(a){return y.locateFile?y.locateFile(a,E):E+a}var oa;
if(la||A)A?E=self.location.href:"undefined"!=typeof document&&document.currentScript&&(E=document.currentScript.src),_scriptDir&&(E=_scriptDir),0!==E.indexOf("blob:")?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",A&&(oa=a=>{var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)});var pa=y.print||console.log.bind(console),F=y.printErr||console.error.bind(console);Object.assign(y,ia);ia=null;y.thisProgram&&(ja=y.thisProgram);
y.quit&&(ka=y.quit);var G;y.wasmBinary&&(G=y.wasmBinary);"object"!=typeof WebAssembly&&H("no native wasm support detected");var l,qa,ra=!1,K,n,aa,ba,ca,ea;function p(){var a=l.buffer;y.HEAP8=n=new Int8Array(a);y.HEAP16=new Int16Array(a);y.HEAPU8=aa=new Uint8Array(a);y.HEAPU16=new Uint16Array(a);y.HEAP32=ba=new Int32Array(a);y.HEAPU32=ca=new Uint32Array(a);y.HEAPF32=new Float32Array(a);y.HEAPF64=ea=new Float64Array(a)}var sa=y.INITIAL_MEMORY||629145600;
65536<=sa||H("INITIAL_MEMORY should be larger than STACK_SIZE, was "+sa+"! (STACK_SIZE=65536)");
if(D)l=y.wasmMemory;else if(y.wasmMemory)l=y.wasmMemory;else if(l=new WebAssembly.Memory({initial:sa/65536,maximum:32768,shared:!0}),!(l.buffer instanceof SharedArrayBuffer))throw F("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),ma&&F("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),
Error("bad memory");p();sa=l.buffer.byteLength;var ta=[],ua=[],va=[],wa=[];function xa(){D||(y.noFSInit||ya||(ya=!0,za(),y.stdin=y.stdin,y.stdout=y.stdout,y.stderr=y.stderr,y.stdin?L("stdin",y.stdin):Aa("/dev/tty","/dev/stdin"),y.stdout?L("stdout",null,y.stdout):Aa("/dev/tty","/dev/stdout"),y.stderr?L("stderr",null,y.stderr):Aa("/dev/tty1","/dev/stderr"),Ba("/dev/stdin",0),Ba("/dev/stdout",1),Ba("/dev/stderr",1)),Ca=!1,Da(ua))}var M=0,Ea=null,N=null;
function Fa(){M++;y.monitorRunDependencies&&y.monitorRunDependencies(M)}function Ga(){M--;y.monitorRunDependencies&&y.monitorRunDependencies(M);if(0==M&&(null!==Ea&&(clearInterval(Ea),Ea=null),N)){var a=N;N=null;a()}}function H(a){if(y.onAbort)y.onAbort(a);a="Aborted("+a+")";F(a);ra=!0;K=1;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");ha(a);throw a;}var Ha=a=>a.startsWith("data:application/octet-stream;base64,"),O;
y.locateFile?(O="ChessEngine.wasm",Ha(O)||(O=na(O))):O=(new URL("ChessEngine.wasm",import.meta.url)).href;function Ia(a){if(a==O&&G)return new Uint8Array(G);if(oa)return oa(a);throw"both async and sync fetching of the wasm failed";}function Ja(a){return G||!la&&!A||"function"!=typeof fetch?Promise.resolve().then(()=>Ia(a)):fetch(a,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw"failed to load wasm binary file at '"+a+"'";return b.arrayBuffer()}).catch(()=>Ia(a))}
function Ka(a,b,c){return Ja(a).then(d=>WebAssembly.instantiate(d,b)).then(d=>d).then(c,d=>{F(`failed to asynchronously prepare wasm: ${d}`);H(d)})}function La(a,b){var c=O;return G||"function"!=typeof WebAssembly.instantiateStreaming||Ha(c)||"function"!=typeof fetch?Ka(c,a,b):fetch(c,{credentials:"same-origin"}).then(d=>WebAssembly.instantiateStreaming(d,a).then(b,function(e){F(`wasm streaming compile failed: ${e}`);F("falling back to ArrayBuffer instantiation");return Ka(c,a,b)}))}
var Q,Ma,Oa={154472:(a,b)=>{postMessage({data:[b],name:Na(a)})}};function Pa(a){this.name="ExitStatus";this.message=`Program terminated with exit(${a})`;this.status=a}
var Qa=a=>{a.terminate();a.onmessage=()=>{}},Sa=a=>{0==R.ka.length&&(Ra(),R.Oa(R.ka[0]));var b=R.ka.pop();if(!b)return 6;R.na.push(b);R.fa[a.ma]=b;b.ma=a.ma;b.postMessage({cmd:"run",start_routine:a.jb,arg:a.bb,pthread_ptr:a.ma},a.pb);return 0},S=0,Ta=(a,b)=>{for(var c=0,d=a.length-1;0<=d;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},Ua=a=>{var b="/"===a.charAt(0),c="/"===a.substr(-1);(a=Ta(a.split("/").filter(d=>
!!d),!b).join("/"))||b||(a=".");a&&c&&(a+="/");return(b?"/":"")+a},Va=a=>{var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return".";b&&=b.substr(0,b.length-1);return a+b},Wa=a=>{if("/"===a)return"/";a=Ua(a);a=a.replace(/\/$/,"");var b=a.lastIndexOf("/");return-1===b?a:a.substr(b+1)},Xa=()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return a=>(a.set(crypto.getRandomValues(new Uint8Array(a.byteLength))),a);H("initRandomDevice")},
Ya=a=>(Ya=Xa())(a);function Za(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:"/";if("string"!=typeof b)throw new TypeError("Arguments to path.resolve must be strings");if(!b)return"";a=b+"/"+a;b="/"===b.charAt(0)}a=Ta(a.split("/").filter(d=>!!d),!b).join("/");return(b?"/":"")+a||"."}
var $a="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,T=(a,b)=>{for(var c=b+NaN,d=b;a[d]&&!(d>=c);)++d;if(16<d-b&&a.buffer&&$a)return $a.decode(a.buffer instanceof SharedArrayBuffer?a.slice(b,d):a.subarray(b,d));for(c="";b<d;){var e=a[b++];if(e&128){var h=a[b++]&63;if(192==(e&224))c+=String.fromCharCode((e&31)<<6|h);else{var k=a[b++]&63;e=224==(e&240)?(e&15)<<12|h<<6|k:(e&7)<<18|h<<12|k<<6|a[b++]&63;65536>e?c+=String.fromCharCode(e):(e-=65536,c+=String.fromCharCode(55296|e>>10,56320|
e&1023))}}else c+=String.fromCharCode(e)}return c},ab=[],bb=a=>{for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);127>=d?b++:2047>=d?b+=2:55296<=d&&57343>=d?(b+=4,++c):b+=3}return b},cb=(a,b,c,d)=>{if(!(0<d))return 0;var e=c;d=c+d-1;for(var h=0;h<a.length;++h){var k=a.charCodeAt(h);if(55296<=k&&57343>=k){var v=a.charCodeAt(++h);k=65536+((k&1023)<<10)|v&1023}if(127>=k){if(c>=d)break;b[c++]=k}else{if(2047>=k){if(c+1>=d)break;b[c++]=192|k>>6}else{if(65535>=k){if(c+2>=d)break;b[c++]=224|k>>12}else{if(c+
3>=d)break;b[c++]=240|k>>18;b[c++]=128|k>>12&63}b[c++]=128|k>>6&63}b[c++]=128|k&63}}b[c]=0;return c-e};function db(a,b){var c=Array(bb(a)+1);a=cb(a,c,0,c.length);b&&(c.length=a);return c}var eb=[];function fb(a,b){eb[a]={input:[],ca:[],sa:b};gb(a,hb)}
var hb={open(a){var b=eb[a.node.Aa];if(!b)throw new U(43);a.da=b;a.seekable=!1},close(a){a.da.sa.wa(a.da)},wa(a){a.da.sa.wa(a.da)},read(a,b,c,d){if(!a.da||!a.da.sa.Na)throw new U(60);for(var e=0,h=0;h<d;h++){try{var k=a.da.sa.Na(a.da)}catch(v){throw new U(29);}if(void 0===k&&0===e)throw new U(6);if(null===k||void 0===k)break;e++;b[c+h]=k}e&&(a.node.timestamp=Date.now());return e},write(a,b,c,d){if(!a.da||!a.da.sa.Ga)throw new U(60);try{for(var e=0;e<d;e++)a.da.sa.Ga(a.da,b[c+e])}catch(h){throw new U(29);
}d&&(a.node.timestamp=Date.now());return e}},ib={Na(){a:{if(!ab.length){var a=null;"undefined"!=typeof window&&"function"==typeof window.prompt?(a=window.prompt("Input: "),null!==a&&(a+="\n")):"function"==typeof readline&&(a=readline(),null!==a&&(a+="\n"));if(!a){a=null;break a}ab=db(a,!0)}a=ab.shift()}return a},Ga(a,b){null===b||10===b?(pa(T(a.ca,0)),a.ca=[]):0!=b&&a.ca.push(b)},wa(a){a.ca&&0<a.ca.length&&(pa(T(a.ca,0)),a.ca=[])},Hb(){return{yb:25856,Ab:5,xb:191,zb:35387,wb:[3,28,127,21,4,0,1,0,
17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ib(){return 0},Jb(){return[24,80]}},jb={Ga(a,b){null===b||10===b?(F(T(a.ca,0)),a.ca=[]):0!=b&&a.ca.push(b)},wa(a){a.ca&&0<a.ca.length&&(F(T(a.ca,0)),a.ca=[])}};function kb(a,b){var c=a.Z?a.Z.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)>>>0),0!=c&&(b=Math.max(b,256)),c=a.Z,a.Z=new Uint8Array(b),0<a.ba&&a.Z.set(c.subarray(0,a.ba),0))}
var V={ea:null,ia(){return V.createNode(null,"/",16895,0)},createNode(a,b,c,d){if(24576===(c&61440)||4096===(c&61440))throw new U(63);V.ea||(V.ea={dir:{node:{ja:V.$.ja,ga:V.$.ga,ta:V.$.ta,xa:V.$.xa,Ta:V.$.Ta,Za:V.$.Za,Va:V.$.Va,Sa:V.$.Sa,Ba:V.$.Ba},stream:{la:V.aa.la}},file:{node:{ja:V.$.ja,ga:V.$.ga},stream:{la:V.aa.la,read:V.aa.read,write:V.aa.write,Ja:V.aa.Ja,Pa:V.aa.Pa,Ra:V.aa.Ra}},link:{node:{ja:V.$.ja,ga:V.$.ga,ua:V.$.ua},stream:{}},Ka:{node:{ja:V.$.ja,ga:V.$.ga},stream:lb}});c=mb(a,b,c,d);
16384===(c.mode&61440)?(c.$=V.ea.dir.node,c.aa=V.ea.dir.stream,c.Z={}):32768===(c.mode&61440)?(c.$=V.ea.file.node,c.aa=V.ea.file.stream,c.ba=0,c.Z=null):40960===(c.mode&61440)?(c.$=V.ea.link.node,c.aa=V.ea.link.stream):8192===(c.mode&61440)&&(c.$=V.ea.Ka.node,c.aa=V.ea.Ka.stream);c.timestamp=Date.now();a&&(a.Z[b]=c,a.timestamp=c.timestamp);return c},Eb(a){return a.Z?a.Z.subarray?a.Z.subarray(0,a.ba):new Uint8Array(a.Z):new Uint8Array(0)},$:{ja(a){var b={};b.Db=8192===(a.mode&61440)?a.id:1;b.Gb=a.id;
b.mode=a.mode;b.Lb=1;b.uid=0;b.Fb=0;b.Aa=a.Aa;16384===(a.mode&61440)?b.size=4096:32768===(a.mode&61440)?b.size=a.ba:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.ub=new Date(a.timestamp);b.Kb=new Date(a.timestamp);b.Cb=new Date(a.timestamp);b.cb=4096;b.vb=Math.ceil(b.size/b.cb);return b},ga(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);if(void 0!==b.size&&(b=b.size,a.ba!=b))if(0==b)a.Z=null,a.ba=0;else{var c=a.Z;a.Z=new Uint8Array(b);c&&a.Z.set(c.subarray(0,
Math.min(b,a.ba)));a.ba=b}},ta(){throw nb[44];},xa(a,b,c,d){return V.createNode(a,b,c,d)},Ta(a,b,c){if(16384===(a.mode&61440)){try{var d=ob(b,c)}catch(h){}if(d)for(var e in d.Z)throw new U(55);}delete a.parent.Z[a.name];a.parent.timestamp=Date.now();a.name=c;b.Z[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},Za(a,b){delete a.Z[b];a.timestamp=Date.now()},Va(a,b){var c=ob(a,b),d;for(d in c.Z)throw new U(55);delete a.Z[b];a.timestamp=Date.now()},Sa(a){var b=[".",".."],c;for(c in a.Z)a.Z.hasOwnProperty(c)&&
b.push(c);return b},Ba(a,b,c){a=V.createNode(a,b,41471,0);a.link=c;return a},ua(a){if(40960!==(a.mode&61440))throw new U(28);return a.link}},aa:{read(a,b,c,d,e){var h=a.node.Z;if(e>=a.node.ba)return 0;a=Math.min(a.node.ba-e,d);if(8<a&&h.subarray)b.set(h.subarray(e,e+a),c);else for(d=0;d<a;d++)b[c+d]=h[e+d];return a},write(a,b,c,d,e,h){b.buffer===f().buffer&&(h=!1);if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.Z||a.Z.subarray)){if(h)return a.Z=b.subarray(c,c+d),a.ba=d;if(0===a.ba&&
0===e)return a.Z=b.slice(c,c+d),a.ba=d;if(e+d<=a.ba)return a.Z.set(b.subarray(c,c+d),e),d}kb(a,e+d);if(a.Z.subarray&&b.subarray)a.Z.set(b.subarray(c,c+d),e);else for(h=0;h<d;h++)a.Z[e+h]=b[c+h];a.ba=Math.max(a.ba,e+d);return d},la(a,b,c){1===c?b+=a.position:2===c&&32768===(a.node.mode&61440)&&(b+=a.node.ba);if(0>b)throw new U(28);return b},Ja(a,b,c){kb(a.node,b+c);a.node.ba=Math.max(a.node.ba,b+c)},Pa(a,b,c,d,e){if(32768!==(a.node.mode&61440))throw new U(43);a=a.node.Z;if(e&2||a.buffer!==f().buffer){if(0<
c||c+b<a.length)a.subarray?a=a.subarray(c,c+b):a=Array.prototype.slice.call(a,c,c+b);c=!0;H();b=void 0;if(!b)throw new U(48);f().set(a,b)}else c=!1,b=a.byteOffset;return{za:b,tb:c}},Ra(a,b,c,d){V.aa.write(a,b,0,d,c,!1);return 0}}},pb=(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},qb=null,rb={},sb=[],tb=1,ub=null,Ca=!0,U=null,nb={};
function W(a,b={}){a=Za(a);if(!a)return{path:"",node:null};b=Object.assign({Ma:!0,Ha:0},b);if(8<b.Ha)throw new U(32);a=a.split("/").filter(k=>!!k);for(var c=qb,d="/",e=0;e<a.length;e++){var h=e===a.length-1;if(h&&b.parent)break;c=ob(c,a[e]);d=Ua(d+"/"+a[e]);c.ya&&(!h||h&&b.Ma)&&(c=c.ya.root);if(!h||b.La)for(h=0;40960===(c.mode&61440);)if(c=vb(d),d=Za(Va(d),c),c=W(d,{Ha:b.Ha+1}).node,40<h++)throw new U(32);}return{path:d,node:c}}
function wb(a){for(var b;;){if(a===a.parent)return a=a.ia.Qa,b?"/"!==a[a.length-1]?`${a}/${b}`:a+b:a;b=b?`${a.name}/${b}`:a.name;a=a.parent}}function xb(a,b){for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%ub.length}function ob(a,b){var c;if(c=(c=yb(a,"x"))?c:a.$.ta?0:2)throw new U(c,a);for(c=ub[xb(a.id,b)];c;c=c.gb){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return a.$.ta(a,b)}
function mb(a,b,c,d){a=new zb(a,b,c,d);b=xb(a.parent.id,a.name);a.gb=ub[b];return ub[b]=a}function Ab(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b}function yb(a,b){if(Ca)return 0;if(!b.includes("r")||a.mode&292){if(b.includes("w")&&!(a.mode&146)||b.includes("x")&&!(a.mode&73))return 2}else return 2;return 0}function Bb(a,b){try{return ob(a,b),20}catch(c){}return yb(a,"wx")}function Cb(){for(var a=0;4096>=a;a++)if(!sb[a])return a;throw new U(33);}
function Db(a){a=sb[a];if(!a)throw new U(8);return a}function Eb(a){var b=-1;Fb||(Fb=function(){this.qa={}},Fb.prototype={},Object.defineProperties(Fb.prototype,{object:{get(){return this.node},set(c){this.node=c}},flags:{get(){return this.qa.flags},set(c){this.qa.flags=c}},position:{get(){return this.qa.position},set(c){this.qa.position=c}}}));a=Object.assign(new Fb,a);-1==b&&(b=Cb());a.ra=b;return sb[b]=a}var lb={open(a){a.aa=rb[a.node.Aa].aa;a.aa.open&&a.aa.open(a)},la(){throw new U(70);}};
function gb(a,b){rb[a]={aa:b}}function Gb(a,b){var c="/"===b,d=!b;if(c&&qb)throw new U(10);if(!c&&!d){var e=W(b,{Ma:!1});b=e.path;e=e.node;if(e.ya)throw new U(10);if(16384!==(e.mode&61440))throw new U(54);}b={type:a,Mb:{},Qa:b,fb:[]};a=a.ia(b);a.ia=b;b.root=a;c?qb=a:e&&(e.ya=b,e.ia&&e.ia.fb.push(b))}function Hb(a,b,c){var d=W(a,{parent:!0}).node;a=Wa(a);if(!a||"."===a||".."===a)throw new U(28);var e=Bb(d,a);if(e)throw new U(e);if(!d.$.xa)throw new U(63);return d.$.xa(d,a,b,c)}
function X(a){return Hb(a,16895,0)}function Ib(a,b,c){"undefined"==typeof c&&(c=b,b=438);Hb(a,b|8192,c)}function Aa(a,b){if(!Za(a))throw new U(44);var c=W(b,{parent:!0}).node;if(!c)throw new U(44);b=Wa(b);var d=Bb(c,b);if(d)throw new U(d);if(!c.$.Ba)throw new U(63);c.$.Ba(c,b,a)}function vb(a){a=W(a).node;if(!a)throw new U(44);if(!a.$.ua)throw new U(28);return Za(wb(a.parent),a.$.ua(a))}
function Ba(a,b){if(""===a)throw new U(44);if("string"==typeof b){var c={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[b];if("undefined"==typeof c)throw Error(`Unknown file open mode: ${b}`);b=c}var d=b&64?("undefined"==typeof d?438:d)&4095|32768:0;if("object"==typeof a)var e=a;else{a=Ua(a);try{e=W(a,{La:!(b&131072)}).node}catch(h){}}c=!1;if(b&64)if(e){if(b&128)throw new U(20);}else e=Hb(a,d,0),c=!0;if(!e)throw new U(44);8192===(e.mode&61440)&&(b&=-513);if(b&65536&&16384!==(e.mode&61440))throw new U(54);
if(!c&&(d=e?40960===(e.mode&61440)?32:16384===(e.mode&61440)&&("r"!==Ab(b)||b&512)?31:yb(e,Ab(b)):44))throw new U(d);if(b&512&&!c){d=e;d="string"==typeof d?W(d,{La:!0}).node:d;if(!d.$.ga)throw new U(63);if(16384===(d.mode&61440))throw new U(31);if(32768!==(d.mode&61440))throw new U(28);if(c=yb(d,"w"))throw new U(c);d.$.ga(d,{size:0,timestamp:Date.now()})}b&=-131713;e=Eb({node:e,path:wb(e),flags:b,seekable:!0,position:0,aa:e.aa,qb:[],error:!1});e.aa.open&&e.aa.open(e);!y.logReadFiles||b&1||(Jb||={},
a in Jb||(Jb[a]=1))}function Kb(a,b,c){if(null===a.ra)throw new U(8);if(!a.seekable||!a.aa.la)throw new U(70);if(0!=c&&1!=c&&2!=c)throw new U(28);a.position=a.aa.la(a,b,c);a.qb=[]}function za(){U||(U=function(a,b){this.name="ErrnoError";this.node=b;this.ib=function(c){this.va=c};this.ib(a);this.message="FS error"},U.prototype=Error(),U.prototype.constructor=U,[44].forEach(a=>{nb[a]=new U(a);nb[a].stack="<generic error, no stack>"}))}var ya;
function L(a,b,c){a=Ua("/dev/"+a);var d=pb(!!b,!!c);Lb||=64;var e=Lb++<<8|0;gb(e,{open(h){h.seekable=!1},close(){c&&c.buffer&&c.buffer.length&&c(10)},read(h,k,v,B){for(var m=0,r=0;r<B;r++){try{var C=b()}catch(I){throw new U(29);}if(void 0===C&&0===m)throw new U(6);if(null===C||void 0===C)break;m++;k[v+r]=C}m&&(h.node.timestamp=Date.now());return m},write(h,k,v,B){for(var m=0;m<B;m++)try{c(k[v+m])}catch(r){throw new U(29);}B&&(h.node.timestamp=Date.now());return m}});Ib(a,d,e)}
var Lb,Mb={},Fb,Jb,Na=a=>a?T(u(),a):"",Pb=a=>{var b=Nb();a=a();Ob(b);return a};function Y(a,b){var c=arguments.length-2,d=arguments;return Pb(()=>{for(var e=Qb(8*c),h=e>>3,k=0;k<c;k++){var v=d[2+k];da()[h+k]=v}return Rb(a,c,e,b)})}function Sb(a){if(D)return Y(0,1,a);K=a;if(!(Tb||0<S)){R.kb();if(y.onExit)y.onExit(a);ra=!0}ka(a,new Pa(a))}var Vb=a=>{K=a;if(D)throw Ub(a),"unwind";Sb(a)},Wb=a=>{a instanceof Pa||"unwind"==a||ka(1,a)};
function Xb(){for(var a=8;a--;)Ra();ta.unshift(()=>{Fa();Yb(()=>Ga())})}function Ra(){if(y.locateFile){var a=na("ChessEngine.worker.js");a=new Worker(a,{type:"module"})}else a=new Worker(new URL("ChessEngine.worker.js",import.meta.url),{type:"module"});R.ka.push(a)}function Yb(a){D?a():Promise.all(R.ka.map(R.Oa)).then(a)}
var R={ka:[],na:[],Ya:[],fa:{},Fa(){D?(R.receiveObjectTransfer=R.hb,R.threadInitTLS=R.Xa,R.setExitStatus=R.Wa,Tb=!1):Xb()},Wa:a=>{K=a},Nb:["$terminateWorker"],kb:()=>{for(var a of R.na)Qa(a);for(a of R.ka)Qa(a);R.ka=[];R.na=[];R.fa=[]},Ua:a=>{var b=a.ma;delete R.fa[b];R.ka.push(a);R.na.splice(R.na.indexOf(a),1);a.ma=0;Zb(b)},hb(){},Xa(){R.Ya.forEach(a=>a())},Oa:a=>new Promise(b=>{a.onmessage=h=>{h=h.data;var k=h.cmd;if(h.targetThread&&h.targetThread!=$b()){var v=R.fa[h.targetThread];v?v.postMessage(h,
h.transferList):F(`Internal error! Worker sent a message "${k}" to target pthread ${h.targetThread}, but that thread no longer exists!`)}else if("checkMailbox"===k)ac();else if("spawnThread"===k)Sa(h);else if("cleanupThread"===k)R.Ua(R.fa[h.thread]);else if("killThread"===k)h=h.thread,k=R.fa[h],delete R.fa[h],Qa(k),Zb(h),R.na.splice(R.na.indexOf(k),1),k.ma=0;else if("cancelThread"===k)R.fa[h.thread].postMessage({cmd:"cancel"});else if("loaded"===k)a.loaded=!0,b(a);else if("alert"===k)alert(`Thread ${h.threadId}: ${h.text}`);
else if("setimmediate"===h.target)a.postMessage(h);else if("callHandler"===k)y[h.handler](...h.args);else k&&F(`worker sent an unknown command ${k}`)};a.onerror=h=>{F(`${"worker sent an error!"} ${h.filename}:${h.lineno}: ${h.message}`);throw h;};var c=[],d=["onExit","onAbort","print","printErr"],e;for(e of d)y.hasOwnProperty(e)&&c.push(e);a.postMessage({cmd:"load",handlers:c,urlOrBlob:y.mainScriptUrlOrBlob,wasmMemory:l,wasmModule:qa})})};y.PThread=R;var Da=a=>{for(;0<a.length;)a.shift()(y)};
y.establishStackSpace=()=>{var a=$b(),b=x()[a+52>>2];a=x()[a+56>>2];bc(b,b-a);Ob(b)};function Ub(a){if(D)return Y(1,0,a);Vb(a)}var cc=[],dc;y.invokeEntryPoint=(a,b)=>{var c=cc[a];c||(a>=cc.length&&(cc.length=a+1),cc[a]=c=dc.get(a));a=c(b);Tb||0<S?R.Wa(a):ec(a)};var Tb=y.noExitRuntime||!0;function fc(a){this.za=a-24;this.ab=function(b){x()[this.za+4>>2]=b};this.$a=function(b){x()[this.za+8>>2]=b};this.Fa=function(b,c){this.qa();this.ab(b);this.$a(c)};this.qa=function(){x()[this.za+16>>2]=0}}
var gc=0,hc=0;function ic(a,b,c,d){return D?Y(2,1,a,b,c,d):jc(a,b,c,d)}var jc=(a,b,c,d)=>{if("undefined"==typeof SharedArrayBuffer)return F("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var e=[];if(D&&0===e.length)return ic(a,b,c,d);a={jb:c,ma:a,bb:d,pb:e};return D?(a.Bb="spawnThread",postMessage(a,e),0):Sa(a)},kc=a=>{"function"===typeof Atomics.sb&&(Atomics.sb(w(),a>>2,a).value.then(ac),a+=128,Atomics.store(w(),a>>2,1))};
y.__emscripten_thread_mailbox_await=kc;var ac=()=>{var a=$b();if(a&&(kc(a),a=lc,!ra))try{if(a(),!(Tb||0<S))try{D?ec(K):Vb(K)}catch(b){Wb(b)}}catch(b){Wb(b)}};y.checkMailbox=ac;
var mc=[],nc=[],oc={},qc=()=>{if(!pc){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ja||"./this.program"},b;for(b in oc)void 0===oc[b]?delete a[b]:a[b]=oc[b];var c=[];for(b in a)c.push(`${b}=${a[b]}`);pc=c}return pc},pc;
function rc(a,b){if(D)return Y(3,1,a,b);var c=0;qc().forEach((d,e)=>{var h=b+c;e=x()[a+4*e>>2]=h;for(h=0;h<d.length;++h)f()[e++>>0]=d.charCodeAt(h);f()[e>>0]=0;c+=d.length+1});return 0}function sc(a,b){if(D)return Y(4,1,a,b);var c=qc();x()[a>>2]=c.length;var d=0;c.forEach(e=>d+=e.length+1);x()[b>>2]=d;return 0}
function tc(a){if(D)return Y(5,1,a);try{var b=Db(a);if(null===b.ra)throw new U(8);b.Ea&&(b.Ea=null);try{b.aa.close&&b.aa.close(b)}catch(c){throw c;}finally{sb[b.ra]=null}b.ra=null;return 0}catch(c){if("undefined"==typeof Mb||"ErrnoError"!==c.name)throw c;return c.va}}
function uc(a,b,c,d){if(D)return Y(6,1,a,b,c,d);try{a:{var e=Db(a);a=b;for(var h,k=b=0;k<c;k++){var v=x()[a>>2],B=x()[a+4>>2];a+=8;var m=e,r=f(),C=v,I=B,g=h;if(0>I||0>g)throw new U(28);if(null===m.ra)throw new U(8);if(1===(m.flags&2097155))throw new U(8);if(16384===(m.node.mode&61440))throw new U(31);if(!m.aa.read)throw new U(28);var q="undefined"!=typeof g;if(!q)g=m.position;else if(!m.seekable)throw new U(70);var t=m.aa.read(m,r,C,I,g);q||(m.position+=t);var z=t;if(0>z){var J=-1;break a}b+=z;if(z<
B)break;"undefined"!==typeof h&&(h+=z)}J=b}x()[d>>2]=J;return 0}catch(P){if("undefined"==typeof Mb||"ErrnoError"!==P.name)throw P;return P.va}}
function vc(a,b,c,d,e){if(D)return Y(7,1,a,b,c,d,e);b=c+2097152>>>0<4194305-!!b?(b>>>0)+4294967296*c:NaN;try{if(isNaN(b))return 61;var h=Db(a);Kb(h,b,d);Ma=[h.position>>>0,(Q=h.position,1<=+Math.abs(Q)?0<Q?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)];w()[e>>2]=Ma[0];w()[e+4>>2]=Ma[1];h.Ea&&0===b&&0===d&&(h.Ea=null);return 0}catch(k){if("undefined"==typeof Mb||"ErrnoError"!==k.name)throw k;return k.va}}
function wc(a,b,c,d){if(D)return Y(8,1,a,b,c,d);try{a:{var e=Db(a);a=b;for(var h,k=b=0;k<c;k++){var v=x()[a>>2],B=x()[a+4>>2];a+=8;var m=e,r=f(),C=v,I=B,g=h;if(0>I||0>g)throw new U(28);if(null===m.ra)throw new U(8);if(0===(m.flags&2097155))throw new U(8);if(16384===(m.node.mode&61440))throw new U(31);if(!m.aa.write)throw new U(28);m.seekable&&m.flags&1024&&Kb(m,0,2);var q="undefined"!=typeof g;if(!q)g=m.position;else if(!m.seekable)throw new U(70);var t=m.aa.write(m,r,C,I,g,void 0);q||(m.position+=
t);var z=t;if(0>z){var J=-1;break a}b+=z;"undefined"!==typeof h&&(h+=z)}J=b}x()[d>>2]=J;return 0}catch(P){if("undefined"==typeof Mb||"ErrnoError"!==P.name)throw P;return P.va}}
var xc=a=>0===a%4&&(0!==a%100||0===a%400),yc=[31,29,31,30,31,30,31,31,30,31,30,31],zc=[31,28,31,30,31,30,31,31,30,31,30,31],Ac=(a,b)=>{f().set(a,b)},Bc=(a,b,c,d)=>{function e(g,q,t){for(g="number"==typeof g?g.toString():g||"";g.length<q;)g=t[0]+g;return g}function h(g,q){return e(g,q,"0")}function k(g,q){function t(J){return 0>J?-1:0<J?1:0}var z;0===(z=t(g.getFullYear()-q.getFullYear()))&&0===(z=t(g.getMonth()-q.getMonth()))&&(z=t(g.getDate()-q.getDate()));return z}function v(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-
1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function B(g){var q=g.oa;for(g=new Date((new Date(g.pa+1900,0,1)).getTime());0<q;){var t=g.getMonth(),z=(xc(g.getFullYear())?yc:zc)[t];if(q>z-g.getDate())q-=z-g.getDate()+1,g.setDate(1),11>t?g.setMonth(t+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+
1));else{g.setDate(g.getDate()+q);break}}t=new Date(g.getFullYear()+1,0,4);q=v(new Date(g.getFullYear(),0,4));t=v(t);return 0>=k(q,g)?0>=k(t,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var m=x()[d+40>>2];d={nb:w()[d>>2],mb:w()[d+4>>2],Ca:w()[d+8>>2],Ia:w()[d+12>>2],Da:w()[d+16>>2],pa:w()[d+20>>2],ha:w()[d+24>>2],oa:w()[d+28>>2],Ob:w()[d+32>>2],lb:w()[d+36>>2],ob:m?Na(m):""};c=Na(c);m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M",
"%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var r in m)c=c.replace(new RegExp(r,"g"),m[r]);var C="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),I="January February March April May June July August September October November December".split(" ");m={"%a":g=>
C[g.ha].substring(0,3),"%A":g=>C[g.ha],"%b":g=>I[g.Da].substring(0,3),"%B":g=>I[g.Da],"%C":g=>h((g.pa+1900)/100|0,2),"%d":g=>h(g.Ia,2),"%e":g=>e(g.Ia,2," "),"%g":g=>B(g).toString().substring(2),"%G":g=>B(g),"%H":g=>h(g.Ca,2),"%I":g=>{g=g.Ca;0==g?g=12:12<g&&(g-=12);return h(g,2)},"%j":g=>{for(var q=0,t=0;t<=g.Da-1;q+=(xc(g.pa+1900)?yc:zc)[t++]);return h(g.Ia+q,3)},"%m":g=>h(g.Da+1,2),"%M":g=>h(g.mb,2),"%n":()=>"\n","%p":g=>0<=g.Ca&&12>g.Ca?"AM":"PM","%S":g=>h(g.nb,2),"%t":()=>"\t","%u":g=>g.ha||7,
"%U":g=>h(Math.floor((g.oa+7-g.ha)/7),2),"%V":g=>{var q=Math.floor((g.oa+7-(g.ha+6)%7)/7);2>=(g.ha+371-g.oa-2)%7&&q++;if(q)53==q&&(t=(g.ha+371-g.oa)%7,4==t||3==t&&xc(g.pa)||(q=1));else{q=52;var t=(g.ha+7-g.oa-1)%7;(4==t||5==t&&xc(g.pa%400-1))&&q++}return h(q,2)},"%w":g=>g.ha,"%W":g=>h(Math.floor((g.oa+7-(g.ha+6)%7)/7),2),"%y":g=>(g.pa+1900).toString().substring(2),"%Y":g=>g.pa+1900,"%z":g=>{g=g.lb;var q=0<=g;g=Math.abs(g)/60;return(q?"+":"-")+String("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.ob,
"%%":()=>"%"};c=c.replace(/%%/g,"\x00\x00");for(r in m)c.includes(r)&&(c=c.replace(new RegExp(r,"g"),m[r](d)));c=c.replace(/\0\0/g,"%");r=db(c,!1);if(r.length>b)return 0;Ac(r,a);return r.length-1},Cc=(a,b,c,d)=>{var e={string:m=>{var r=0;if(null!==m&&void 0!==m&&0!==m){r=bb(m)+1;var C=Qb(r);cb(m,u(),C,r);r=C}return r},array:m=>{var r=Qb(m.length);f().set(m,r);return r}};a=y["_"+a];var h=[],k=0;if(d)for(var v=0;v<d.length;v++){var B=e[c[v]];B?(0===k&&(k=Nb()),h[v]=B(d[v])):h[v]=d[v]}c=a.apply(null,
h);return c=function(m){0!==k&&Ob(k);return"string"===b?Na(m):"boolean"===b?!!m:m}(c)};R.Fa();function zb(a,b,c,d){a||=this;this.parent=a;this.ia=a.ia;this.ya=null;this.id=tb++;this.name=b;this.mode=c;this.$={};this.aa={};this.Aa=d}Object.defineProperties(zb.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}}});za();ub=Array(4096);
Gb(V,"/");X("/tmp");X("/home");X("/home/web_user");(function(){X("/dev");gb(259,{read:()=>0,write:(d,e,h,k)=>k});Ib("/dev/null",259);fb(1280,ib);fb(1536,jb);Ib("/dev/tty",1280);Ib("/dev/tty1",1536);var a=new Uint8Array(1024),b=0,c=()=>{0===b&&(b=Ya(a).byteLength);return a[--b]};L("random",c);L("urandom",c);X("/dev/shm");X("/dev/shm/tmp")})();
(function(){X("/proc");var a=X("/proc/self");X("/proc/self/fd");Gb({ia(){var b=mb(a,"fd",16895,73);b.$={ta(c,d){var e=Db(+d);c={parent:null,ia:{Qa:"fake"},$:{ua:()=>e.path}};return c.parent=c}};return b}},"/proc/self/fd")})();
var Dc=[Sb,Ub,ic,rc,sc,tc,uc,vc,wc],Fc={d:(a,b,c)=>{(new fc(a)).Fa(b,c);gc=a;hc++;throw gc;},k:a=>{Ec(a,!A,1,!la,65536,!1);R.Xa()},g:a=>{D?postMessage({cmd:"cleanupThread",thread:a}):R.Ua(R.fa[a])},y:jc,m:()=>!0,w:(a,b)=>{a==b?setTimeout(()=>ac()):D?postMessage({targetThread:a,cmd:"checkMailbox"}):(a=R.fa[a])&&a.postMessage({cmd:"checkMailbox"})},l:(a,b,c,d)=>{mc.length=c;d>>=3;for(var e=0;e<c;e++)mc[e]=da()[d+e];a=0>a?Oa[-a-1]:Dc[a];R.eb=b;b=a.apply(null,mc);R.eb=0;return b},j:kc,i:()=>{},c:()=>
{H("")},h:(a,b,c)=>{nc.length=0;for(var d;d=u()[b++];){var e=105!=d;e&=112!=d;c+=e&&c%8?4:0;nc.push(112==d?x()[c>>2]:105==d?w()[c>>2]:da()[c>>3]);c+=e?8:4}return D?Y.apply(null,[-1-a,0].concat(nc)):Oa[a].apply(null,nc)},e:()=>{},n:()=>Date.now(),z:()=>{S+=1;throw"unwind";},b:()=>performance.timeOrigin+performance.now(),v:a=>{var b=u().length;a>>>=0;if(a<=b||2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var e=Math;d=Math.max(a,d);a:{e=(e.min.call(e,2147483648,
d+(65536-d%65536)%65536)-l.buffer.byteLength+65535)/65536;try{l.grow(e);p();var h=1;break a}catch(k){}h=void 0}if(h)return!0}return!1},r:rc,s:sc,x:Vb,t:tc,u:uc,o:vc,f:wc,p:(a,b)=>{Ya(u().subarray(a,a+b));return 0},a:l||y.wasmMemory,q:(a,b,c,d)=>Bc(a,b,c,d)},Z=function(){function a(c,d){Z=c.exports;R.Ya.push(Z.N);dc=Z.M;ua.unshift(Z.A);qa=d;Ga();return Z}var b={a:Fc};Fa();if(y.instantiateWasm)try{return y.instantiateWasm(b,a)}catch(c){F(`Module.instantiateWasm callback failed with error: ${c}`),ha(c)}La(b,
function(c){a(c.instance,c.module)}).catch(ha);return{}}();y._init=()=>(y._init=Z.B)();y._move=(a,b,c,d,e)=>(y._move=Z.C)(a,b,c,d,e);y._unmove=()=>(y._unmove=Z.D)();y._listPieces=()=>(y._listPieces=Z.E)();y._getMoves=()=>(y._getMoves=Z.F)();y._getAttacks=()=>(y._getAttacks=Z.G)();y._eval=()=>(y._eval=Z.H)();y._getBestMove=a=>(y._getBestMove=Z.I)(a);y._setFen=a=>(y._setFen=Z.J)(a);y._runPerft=(a,b)=>(y._runPerft=Z.K)(a,b);var Gc=y._main=(a,b)=>(Gc=y._main=Z.L)(a,b);
y.__emscripten_tls_init=()=>(y.__emscripten_tls_init=Z.N)();var $b=y._pthread_self=()=>($b=y._pthread_self=Z.O)(),Ec=y.__emscripten_thread_init=(a,b,c,d,e,h)=>(Ec=y.__emscripten_thread_init=Z.P)(a,b,c,d,e,h);y.__emscripten_thread_crashed=()=>(y.__emscripten_thread_crashed=Z.Q)();var Rb=(a,b,c,d)=>(Rb=Z.R)(a,b,c,d),Zb=a=>(Zb=Z.S)(a),ec=y.__emscripten_thread_exit=a=>(ec=y.__emscripten_thread_exit=Z.T)(a),lc=()=>(lc=Z.U)(),bc=(a,b)=>(bc=Z.V)(a,b),Nb=()=>(Nb=Z.W)(),Ob=a=>(Ob=Z.X)(a),Qb=a=>(Qb=Z.Y)(a);
y.wasmMemory=l;y.keepRuntimeAlive=()=>Tb||0<S;y.ccall=Cc;y.cwrap=(a,b,c,d)=>{var e=!c||c.every(h=>"number"===h||"boolean"===h);return"string"!==b&&e&&!d?y["_"+a]:function(){return Cc(a,b,c,arguments,d)}};y.ExitStatus=Pa;y.PThread=R;var Hc;N=function Ic(){Hc||Jc();Hc||(N=Ic)};
function Jc(){function a(){if(!Hc&&(Hc=!0,y.calledRun=!0,!ra)){xa();D||Da(va);fa(y);if(y.onRuntimeInitialized)y.onRuntimeInitialized();if(Kc){var b=Gc;try{var c=b(0,0);Vb(c,!0)}catch(d){Wb(d)}}if(!D){if(y.postRun)for("function"==typeof y.postRun&&(y.postRun=[y.postRun]);y.postRun.length;)b=y.postRun.shift(),wa.unshift(b);Da(wa)}}}if(!(0<M))if(D)fa(y),xa(),startWorker(y);else{if(y.preRun)for("function"==typeof y.preRun&&(y.preRun=[y.preRun]);y.preRun.length;)ta.unshift(y.preRun.shift());Da(ta);0<M||
(y.setStatus?(y.setStatus("Running..."),setTimeout(function(){setTimeout(function(){y.setStatus("")},1);a()},1)):a())}}if(y.preInit)for("function"==typeof y.preInit&&(y.preInit=[y.preInit]);0<y.preInit.length;)y.preInit.pop()();var Kc=!0;y.noInitialRun&&(Kc=!1);Jc();


  return moduleArg.ready
}
);
})();
;
export default Engine;